"use strict";(self.webpackChunkreact_typescript_starter_pack=self.webpackChunkreact_typescript_starter_pack||[]).push([[255],{5488:(e,t,s)=>{s.d(t,{u:()=>x});var a=s(5043),n=s(2640),c=s(1516);const l="pagePartTop_breadcrumbs__w4WWL",o="pagePartTop_breadcrumbs__link__uPm9H",r="pagePartTop_title__cTbty",i="pagePartTop_label__WOTPD",u="pagePartTop_currentBreadcrumb__pf8be",d="pagePartTop_backButton__y2bLU";var m=s(3216),_=s(5475),h=s(3594),p=s(3762),k=s(8139),C=s.n(k),j=s(1596),v=s(579);const x=(0,a.memo)((e=>{let{title:t,isLoadingTitle:s=!1,isLoading:k=!1,productsCount:x=0,tag:g="h1",productName:b}=e;const{itemId:N}=(0,m.g)(),f=(0,m.zy)(),y=(0,m.Zp)(),[w,A]=(0,a.useState)(!1);(0,a.useEffect)((()=>{var e;const t=void 0!==(null===(e=f.state)||void 0===e?void 0:e.fromLocation);A(!!t)}),[f]);const T=(0,a.useMemo)((()=>{const e=f.pathname.split("/");return e.map(((t,s)=>{const a=s===e.length-1,n="".concat(e.slice(0,s+1).join("/"));return 0===s?(0,v.jsx)(_.N_,{to:h.AY.home,className:C()(o,p.A["_icon-home"])},s):"products"===t?null:a?(0,v.jsx)("span",{className:u,children:N?b||"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":(0,j.Z)(t)},s):(0,v.jsx)(_.N_,{to:n,className:o,children:(0,j.Z)(t)},s)}))}),[N,f.pathname,b]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("nav",{className:l,children:T.filter(Boolean)}),w&&(0,v.jsx)("button",{className:C()(d,p.A["_icon-arrow"]),onClick:()=>{y(-1)},children:"Back"}),s?(0,v.jsx)(c.m,{height:"h1"===g?56:41,width:"100%",className:r}):(0,v.jsx)(n.v,{Tag:g,title:t,className:r}),k&&(0,v.jsx)(c.m,{height:21,width:"100%"}),!k&&0!==x&&(0,v.jsx)("p",{className:i,children:"".concat(x," models")})]})}))},9255:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(5043),n=s(5488),c=s(4763),l=s(8115);const o="cartProductsList_list__eRqRE";var r=s(5786),i=s(9663),u=s(8139),d=s.n(u),m=s(3524),_=s(579);const h=(0,a.memo)((e=>{let{className:t,minusAmount:s,plusAmount:n,totalCountHandler:c,totalAmountHandler:u,setIsEmptyHandler:h,isLoading:p,isLoadingHandler:k}=e;const[C,j]=(0,a.useState)([]),[v,x]=(0,r.M)(i.U,[]),g=(e,t)=>e.reduce(((e,s)=>{var a;const n=(null===(a=t.find((e=>e.itemId===s.itemId)))||void 0===a?void 0:a.count)||1;return e+s.price*n}),0),b=e=>e.reduce(((e,t)=>e+t.count),0),N=(0,a.useCallback)((e=>{const t=t=>t.itemId!==e,s=[...v].filter(t),a=C.filter(t);x(s),j((e=>e.filter(t))),c(b(s)),u(g(a,s)),0===s.length&&h(!0)}),[v,C,x,h,u,c]),f=(0,a.useCallback)(((e,t)=>{const s=v.findIndex((e=>e.itemId===t));v[s]&&(v[s].count++,x([...v]),null===n||void 0===n||n(e))}),[v,n,x]),y=(0,a.useCallback)(((e,t)=>{const a=v.findIndex((e=>e.itemId===t));v[a]&&v[a].count-1!==0&&(v[a].count--,x([...v]),null===s||void 0===s||s(e),0===e&&h(!0))}),[v,s,x,h]),w=(0,a.useMemo)((()=>C.map((e=>(0,_.jsx)(l.st,{product:e,removeCart:N,plusAmount:f,minusAmount:y},e.id)))),[f,y,C,N]);return(0,a.useEffect)((()=>{k(!0),(async()=>{let e=await(0,l.j0)();return Array.isArray(e)?(e=[...e].filter((e=>e.cartItem)),e):[]})().then((e=>{0===e.length?h(!0):(j(e),h(!1),u(g(e,v)),c(b(v)))})).finally((()=>k(!1)))}),[k,h,u,c]),(0,_.jsx)("div",{className:d()(o,t),children:p?(0,_.jsx)(m.a,{}):w})}));var p=s(5600);const k="chekout_title__ctsv9",C="chekout_buttons__5G6Nk",j="chekout_card__nGa3N",v="chekout_card__top__wEwTj",x="chekout_amount__cCOkI",g="chekout_count__0Ic3M",b="modal_modal__zjR9Q",N="modal_content__TCRqY",f="modal_opened__38dtz",y="modal_isClosing__wvuCR",w="modal_overlay__Uf0Ol";var A=s(7950);const T=e=>{let{children:t,element:s=document.body}=e;return(0,A.createPortal)(t,s)};var L=s(3699);const P=e=>{const{className:t,children:s,isOpen:n,onClose:c}=e,{theme:l}=(0,L.DP)(),{isClosing:o,close:r}=function(e){const{onClose:t,isOpen:s,animationDelay:n=300}=e,[c,l]=(0,a.useState)(!1),o=(0,a.useRef)(),r=(0,a.useCallback)((()=>{t&&(l(!0),o.current=setTimeout((()=>{t(),l(!1)}),n))}),[n,t]),i=(0,a.useCallback)((e=>{"Escape"===e.key&&r()}),[r]);return(0,a.useEffect)((()=>(s&&window.addEventListener("keydown",i),()=>{clearTimeout(o.current),window.removeEventListener("keydown",i)})),[s,i]),{isClosing:c,close:r}}({animationDelay:300,isOpen:n,onClose:c});return(0,_.jsx)(T,{children:(0,_.jsxs)("div",{className:d()(b,{[f]:n,[y]:o},[t,l,"app_modal"]),children:[(0,_.jsx)("div",{role:"presentation",onClick:r,onKeyDown:r,className:d()(w)}),(0,_.jsx)("div",{className:N,children:s})]})})};var S=s(2640);const I=e=>{let{className:t,totalAmount:s,totalCount:n,removeAllHandler:c}=e;const[o,i]=(0,a.useState)(!1),[,u]=(0,r.M)(l.Uy,[]),m=(0,a.useCallback)((()=>{i((e=>!e))}),[]),h=(0,a.useCallback)((()=>{u([]),c()}),[c,u]);return(0,_.jsxs)("div",{className:d()(j,t),children:[(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)("p",{className:x,children:s}),(0,_.jsx)("p",{className:g,children:"Total for ".concat(n," items")})]}),(0,_.jsx)(p.$n,{onClick:m,size:p.Mp.FULL,children:"Checkout"}),(0,_.jsxs)(P,{isOpen:o,onClose:m,children:[(0,_.jsx)(S.v,{Tag:"h3",title:"Checkout is not implemented yet. Do you want to clear the Cart?",className:k}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)(p.$n,{onClick:h,children:"Clear"}),(0,_.jsx)(p.$n,{onClick:m,children:"Cancel"})]})]})]})},E={body:"cartPage_body__J14V2",list:"cartPage_list__A+KDW",checkout:"cartPage_checkout__wUgk9"};var H=s(2272);function D(){const[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(0),[o,r]=(0,a.useState)(0),[i,u]=(0,a.useState)(!1),d=(0,a.useCallback)((e=>{u(e)}),[]),m=(0,a.useCallback)((e=>{t(e)}),[]),p=(0,a.useCallback)((e=>{r(e)}),[]),k=(0,a.useCallback)((e=>{l(e)}),[]),C=(0,a.useCallback)((e=>{l((t=>t+e)),r((e=>e+1))}),[]),j=(0,a.useCallback)((e=>{s-e<=0?l(0):(l((t=>t-e)),r((e=>e-1)))}),[s]),v=(0,a.useCallback)((()=>{p(0),k(0),m(!0)}),[m,k,p]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(c.w,{firstSection:!0,lastSection:!e,children:[(0,_.jsx)(n.u,{tag:"h2",title:"Cart"}),e?(0,_.jsx)(H.M,{src:"img/cart-is-empty.png",alt:"Cart is empty"}):(0,_.jsxs)("div",{className:E.body,children:[(0,_.jsx)(h,{className:E.list,plusAmount:C,minusAmount:j,totalCountHandler:p,totalAmountHandler:k,setIsEmptyHandler:m,isLoading:i,isLoadingHandler:d}),!i&&(0,_.jsx)(I,{className:E.checkout,totalAmount:s,totalCount:o,removeAllHandler:v})]})]})})}},2272:(e,t,s)=>{s.d(t,{M:()=>c});const a="notFound_wrapper__gng0q";var n=s(579);const c=e=>{let{alt:t,src:s}=e;return(0,n.jsx)("div",{className:a,children:(0,n.jsx)("img",{src:s,alt:t})})}},4763:(e,t,s)=>{s.d(t,{w:()=>u});const a="section_standartSection__XoKuD",n="section_firstSection__E9ELY",c="section_padding-bottom__Wtqke";var l=s(8139),o=s.n(l),r=s(3774),i=s(579);const u=e=>{let{children:t,className:s,firstSection:l,lastSection:u=!1}=e;return(0,i.jsx)("section",{className:o()(s,a,{[n]:l,[c]:u}),children:(0,i.jsx)(r.m,{children:t})})}}}]);
//# sourceMappingURL=255.cf9df7bb.chunk.js.map